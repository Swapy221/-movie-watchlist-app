{"ast":null,"code":"// \"use client\"\n// import React, { useEffect, useState } from 'react'\n// import { useParams } from 'react-router-dom'\n// import { useMovie } from '../contexts/MovieContext'\n// import { useAuth } from '../contexts/AuthContext'\n// interface MovieDetails {\n//   imdbID: string\n//   Title: string\n//   Year: string\n//   Poster: string\n//   Plot: string\n// }\n// export default function MovieDetails() {\n//   const { id } = useParams<{ id: string }>()\n//   const { getMovieDetails, addToWatchlist, removeFromWatchlist, watchlist } = useMovie()\n//   const { user } = useAuth()\n//   const [movie, setMovie] = useState<MovieDetails | null>(null)\n//   useEffect(() => {\n//     const fetchMovie = async () => {\n//       if (id) {\n//         const data = await getMovieDetails(id)\n//         setMovie(data)\n//       }\n//     }\n//     fetchMovie()\n//   }, [id, getMovieDetails])\n//   if (!movie) {\n//     return <div>Loading...</div>\n//   }\n//   const isInWatchlist = user && watchlist[user]?.some((m) => m.imdbID === movie.imdbID)\n//   return (\n//     <div className=\"max-w-2xl mx-auto\">\n//       <h2 className=\"text-2xl font-bold mb-4\">{movie.Title}</h2>\n//       <img src={movie.Poster} alt={movie.Title} className=\"w-full h-96 object-cover mb-4\" />\n//       <p className=\"mb-2\">\n//         <strong>Year:</strong> {movie.Year}\n//       </p>\n//       <p className=\"mb-2\">\n//         <strong>Plot:</strong> {movie.Plot}\n//       </p>\n//       {user && (\n//         <button\n//           onClick={() => (isInWatchlist ? removeFromWatchlist(user, movie.imdbID) : addToWatchlist(user, movie))}\n//           className={`mt-4 ${\n//             isInWatchlist ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'\n//           } text-white px-4 py-2 rounded`}\n//         >\n//           {isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}\n//         </button>\n//       )}\n//     </div>\n//   )\n// }\n\"use client\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{useMovie}from'../contexts/MovieContext';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MovieDetailsPage(){var _watchlist$user;const{id}=useParams();const{getMovieDetails,addToWatchlist,removeFromWatchlist,watchlist}=useMovie();const{user}=useAuth();const[movie,setMovie]=useState(null);useEffect(()=>{const fetchMovie=async()=>{if(id){const data=await getMovieDetails(id);setMovie(data);}};fetchMovie();},[id,getMovieDetails]);if(!movie){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}const isInWatchlist=user&&((_watchlist$user=watchlist[user])===null||_watchlist$user===void 0?void 0:_watchlist$user.some(m=>m.imdbID===movie.imdbID));return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:movie.Title}),/*#__PURE__*/_jsx(\"img\",{src:movie.Poster,alt:movie.Title,className:\"w-full h-96 object-cover mb-4\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Year:\"}),\" \",movie.Year]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Plot:\"}),\" \",movie.Plot]}),user&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>isInWatchlist?removeFromWatchlist(user,movie.imdbID):addToWatchlist(user,movie),className:`mt-4 ${isInWatchlist?'bg-red-600 hover:bg-red-700':'bg-green-600 hover:bg-green-700'} text-white px-4 py-2 rounded`,children:isInWatchlist?'Remove from Watchlist':'Add to Watchlist'})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useMovie","useAuth","jsx","_jsx","jsxs","_jsxs","MovieDetailsPage","_watchlist$user","id","getMovieDetails","addToWatchlist","removeFromWatchlist","watchlist","user","movie","setMovie","fetchMovie","data","children","isInWatchlist","some","m","imdbID","className","Title","src","Poster","alt","Year","Plot","onClick"],"sources":["C:/Users/Swapy/Desktop/Git Clone/movie-watchlist-app/src/pages/MovieDetails.tsx"],"sourcesContent":["// \"use client\"\r\n\r\n// import React, { useEffect, useState } from 'react'\r\n// import { useParams } from 'react-router-dom'\r\n// import { useMovie } from '../contexts/MovieContext'\r\n// import { useAuth } from '../contexts/AuthContext'\r\n\r\n// interface MovieDetails {\r\n//   imdbID: string\r\n//   Title: string\r\n//   Year: string\r\n//   Poster: string\r\n//   Plot: string\r\n// }\r\n\r\n// export default function MovieDetails() {\r\n//   const { id } = useParams<{ id: string }>()\r\n//   const { getMovieDetails, addToWatchlist, removeFromWatchlist, watchlist } = useMovie()\r\n//   const { user } = useAuth()\r\n//   const [movie, setMovie] = useState<MovieDetails | null>(null)\r\n\r\n//   useEffect(() => {\r\n//     const fetchMovie = async () => {\r\n//       if (id) {\r\n//         const data = await getMovieDetails(id)\r\n//         setMovie(data)\r\n//       }\r\n//     }\r\n//     fetchMovie()\r\n//   }, [id, getMovieDetails])\r\n\r\n//   if (!movie) {\r\n//     return <div>Loading...</div>\r\n//   }\r\n\r\n//   const isInWatchlist = user && watchlist[user]?.some((m) => m.imdbID === movie.imdbID)\r\n\r\n//   return (\r\n//     <div className=\"max-w-2xl mx-auto\">\r\n//       <h2 className=\"text-2xl font-bold mb-4\">{movie.Title}</h2>\r\n//       <img src={movie.Poster} alt={movie.Title} className=\"w-full h-96 object-cover mb-4\" />\r\n//       <p className=\"mb-2\">\r\n//         <strong>Year:</strong> {movie.Year}\r\n//       </p>\r\n//       <p className=\"mb-2\">\r\n//         <strong>Plot:</strong> {movie.Plot}\r\n//       </p>\r\n//       {user && (\r\n//         <button\r\n//           onClick={() => (isInWatchlist ? removeFromWatchlist(user, movie.imdbID) : addToWatchlist(user, movie))}\r\n//           className={`mt-4 ${\r\n//             isInWatchlist ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'\r\n//           } text-white px-4 py-2 rounded`}\r\n//         >\r\n//           {isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}\r\n//         </button>\r\n//       )}\r\n//     </div>\r\n//   )\r\n// }\r\n\"use client\"\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useMovie, MovieDetails } from '../contexts/MovieContext'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nexport default function MovieDetailsPage() {\r\n  const { id } = useParams<{ id: string }>()\r\n  const { getMovieDetails, addToWatchlist, removeFromWatchlist, watchlist } = useMovie()\r\n  const { user } = useAuth()\r\n  const [movie, setMovie] = useState<MovieDetails | null>(null)\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      if (id) {\r\n        const data = await getMovieDetails(id)\r\n        setMovie(data)\r\n      }\r\n    }\r\n    fetchMovie()\r\n  }, [id, getMovieDetails])\r\n\r\n  if (!movie) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  const isInWatchlist = user && watchlist[user]?.some((m) => m.imdbID === movie.imdbID)\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">{movie.Title}</h2>\r\n      <img src={movie.Poster} alt={movie.Title} className=\"w-full h-96 object-cover mb-4\" />\r\n      <p className=\"mb-2\">\r\n        <strong>Year:</strong> {movie.Year}\r\n      </p>\r\n      <p className=\"mb-2\">\r\n        <strong>Plot:</strong> {movie.Plot}\r\n      </p>\r\n      {user && (\r\n        <button\r\n          onClick={() => (isInWatchlist ? removeFromWatchlist(user, movie.imdbID) : addToWatchlist(user, movie))}\r\n          className={`mt-4 ${\r\n            isInWatchlist ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'\r\n          } text-white px-4 py-2 rounded`}\r\n        >\r\n          {isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}